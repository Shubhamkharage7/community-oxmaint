
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hello Members, Currently, I am working on measuring the speed of a Motor Generator using a proximity sensor. I am exploring the possibility of integrating the speed measurement system without utilizing a High Speed counter module. The generators specifications indicate a maximum rotation of 250 RPM, with a max">
    <meta name="keywords" content="motor generator speed, proximity sensor, mitsubishi input card qx40, high speed counter module, speed measurement system, maximum rotation, response time, response frequency, feasible measurement, inductive proximity sensor, motor generator specs, 250 rpm">
    <meta name="author" content="oxmaint">
    
    <link rel="canonical" href="https://community.oxmaint.com/discussion-forum/measuring-motor-generator-speed-with-proximity-sensor-and-mitsubishi-input-card-qx40">
    <title>Measuring Motor Generator Speed with Proximity Sensor and Mitsubishi Input Card QX40 | Oxmaint Community</title>
    <link rel="shortcut icon" href="./../assets/img/favicon.png" />
    <link rel="stylesheet" href="./../assets/css/plugins.css" />
    <link rel="stylesheet" href="./../assets/css/style.css" />
    <link rel="stylesheet" href="./../assets/css/colors/purple.css" />
    
    <!-- og or twitter tags -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Measuring Motor Generator Speed with Proximity Sensor and Mitsubishi Input Card QX40 | Oxmaint Community">
    <meta property="og:description" content="Hello Members, Currently, I am working on measuring the speed of a Motor Generator using a proximity sensor. I am exploring the possibility of integrating the speed measurement system without utilizing a High Speed counter module. The generators specifications indicate a maximum rotation of 250 RPM, with a max">
    <meta property="og:url" content="https://community.oxmaint.com/discussion-forum/measuring-motor-generator-speed-with-proximity-sensor-and-mitsubishi-input-card-qx40">
    <meta property="og:site_name" content="Oxmaint">
    <meta property="og:image" content="https://community.oxmaint.com/assets/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Measuring Motor Generator Speed with Proximity Sensor and Mitsubishi Input Card QX40 | Oxmaint Community">
    <meta name="twitter:description" content="Hello Members, Currently, I am working on measuring the speed of a Motor Generator using a proximity sensor. I am exploring the possibility of integrating the speed measurement system without utilizing a High Speed counter module. The generators specifications indicate a maximum rotation of 250 RPM, with a max">
    <meta name="twitter:image" content="https://community.oxmaint.com/assets/img/favicon.png">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y6M0T9NLP4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-Y6M0T9NLP4');
    </script>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://community.oxmaint.com/discussion-forum/measuring-motor-generator-speed-with-proximity-sensor-and-mitsubishi-input-card-qx40"
      },
      "headline": "Measuring Motor Generator Speed with Proximity Sensor and Mitsubishi Input Card QX40",
      "description": "Hello Members, Currently, I am working on measuring the speed of a Motor Generator using a proximity sensor. I am exploring the possibility of integrating the speed measurement system without utilizing a High Speed counter module. The generators specifications indicate a maximum rotation of 250 RPM, with a max",
      "author": {
        "@type": "Person",
        "name": "zai_jnr"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Oxmaint",
        "logo": {
          "@type": "ImageObject",
          "url": "https://community.oxmaint.com/assets/img/favicon.png"
        }
      },
      "datePublished": "2024-08-12",
      "image": "https://community.oxmaint.com/assets/img/favicon.png"
    }
    </script>

<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
<script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" defer></script>
<link rel="stylesheet" href="./../assets/css/home.css"/>
</head>
<body>
    <div class="content-wrapper bg-gray">
        <?php include "../include/header.php" ?>
        <!-- /header -->
        <div class="container my-5">
            

            <div class="bg-primary card p-4 mb-4">
                <h1 class="text-white">Measuring Motor Generator Speed with Proximity Sensor and Mitsubishi Input Card QX40</h1>
                <div class="d-flex justify-content-between">
                    <ul class="post-meta text-white fs-15 mb-4">
                        <li class="post-date"><i class="uil uil-calendar-alt"></i><span>12-08-2024</span></li>
                        <li class="post-author"><i class="uil uil-user"></i><span>zai_jnr</span></li>
                        <li class="post-comments"><i class="uil uil-comment-alt-dots"></i><span>6 comments</span></li>
                        <li class="post-seen"><i class="uil uil-eye"></i><span id="counter">2414</span></li>
                        <li class="post-like"><i class="uil uil-thumbs-up" id="likeButton"></i><span id="likeCount">448</span></li>
                    </ul>
                </div>
                <div class="card p-4">
                    <h3>Question:</h3>
                    <p>Hello Members, Currently, I am working on measuring the speed of a Motor Generator using a proximity sensor. I am exploring the possibility of integrating the speed measurement system without utilizing a High Speed counter module. The generator's specifications indicate a maximum rotation of 250 RPM, with a max potential of 300 RPM. Assuming the maximum RPM, the motor rotates 5 times in one second. I am considering using the Mitsubishi Input Card QX40, which allows for response times to be set at 1ms, 5ms, 10ms, or 20ms. If I set the response time to 1ms (equivalent to a response frequency of 1kHz), would it be feasible to measure the speed of the motor generator using the proximity sensor and the QX40 input card? My configuration includes: 1) QX40 set at 1ms response time, 2) Proximity Sensor (Inductive) detecting a distance of 5mm, and 3) Motor Generator with specs of 250rpm (maximum 300rpm). Can the speed of the motor generator be accurately measured with this setup?</p>
                </div>
            </div>

            <div class="row custom-row">
                <div class="col-lg-9 mx-auto mb-5">
                    <div>
                        <div class="p-4">
                            <h3 class="text-primary">Top Replies</h3>
                            
        <div class="bg-white p-3 rounded mb-3">
            <p>NDT engineers use a laser and reflective tape to measure the speed of a shaft. They can either count the number of pulses within a set timeframe or calculate the time interval between pulses to determine the shaft's velocity. This method is commonly employed in non-destructive testing to assess the performance of rotating machinery.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>13-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Puddle</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>When considering input module response time, it's important to also factor in PLC scan time, I/O scanning updates, prox switch turn on/off times, and target duty cycles. A 50% duty cycle on the input signal is generally ideal - half on, half off. The PLC class outline on corsairhmi.com introduces the '2-5-10' rule, referencing analog and timing resolutions. It suggests that 2x is the minimum, 5x is good, and 10x is ideal. Calculate the worst case delays in the measurement system to ensure the PLC can meet double the required speed. Accuracy and frequency of speed measurements are crucial considerations, with time between pulses offering quick updates but less steady signals, and pulses per time providing steadier signals with slower updates. A combination solution may involve counting pulses for a minimum time period. It's important to thoroughly research and experiment before implementing additions to the code and HMI communications, as these can impact system performance. Ultimately, it's essential to determine the level of accuracy needed for speed measurement and update frequency. While your proposed solution shows promise, additional research and testing are necessary. Avoid overcomplicating things if rocket science isn't required for your specific application.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>14-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Corsair</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>A more efficient solution would be to utilize a Digital to Analog converter like the Wago 857-500 to set up a scale with parameters for a 4-20ma analog input. Adjusting the scale may be necessary to ensure precision. This method appears simpler than attempting to modify the overhead system.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>15-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>John Morris</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Calculating RPM involves a straightforward formula: (K x N) / ΔT, where K is the time ticks per minute, N is the number of pulses, and ΔT is the time ticks to generate those pulses in milliseconds. The issue lies in the discrete nature of the measured quantities and scan cycle intervals.

When counting pulses over a fixed one-second timer cycle, aliasing can occur. For example, if a motor running just under 300RPM has 201ms between pulses, the speed calculation may vary based on when the first pulse is detected during the timer cycle.

Measuring the time to reach a fixed number of pulses also introduces variability. For instance, at 300RPM, you may measure around 1000 ticks, while at 299RPM, this number could be 1003 ticks. PLC scan time and other delays can add noise to these measurements.

To address this issue, it's crucial to determine desired accuracy, resolution, update rate, and range of speeds needed for accurate measurements. Considering factors like how long the motor can go without pulses before indicating a speed of 0 is essential for an effective approach to RPM calculations.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>16-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>drbitboy</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>There are various versions of the QX40, with some offering high speed capabilities. By placing the module in the primary rack's initial slots, you can efficiently read pulses using interrupts, thus minimizing scan time. Alternatively, you can utilize the QD interrupt card. To activate interrupts, simply use the EI function followed by calling a subroutine for I0 (representing card 0) with an IRET instruction. This setup ensures smooth operation and faster data processing on the QX40.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>17-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>parky</span></li>
            </ul>
        </div>
        
                        </div>
                        <div class="p-4">
    <h3 class="text-primary">
        <a href="#" class="toggle-more-replies" style="text-decoration: underline; color: #1a73e8; cursor: pointer;">More Replies →</a>
    </h3>
    <div class="more-replies-content" style="display: none;">
                            
        <div class="bg-white p-3 rounded mb-3">
            <p>Thank you for the detailed explanation! I appreciate it. Below is a code snippet that I tested in the Twincat environment. The precision of speed calculation is heavily influenced by factors like cycle time, counter response time, and sampling time. While the code seems to work with a simulated counter, there is always room for improvement.

Code snippet: 

In this function block FB_SpeedCalc, we have input variables for the mode (fixed time frame or fixed pulse count), time frame, fixed count, and counter input. The output variable is the calculated speed in RPM.

The code uses various triggers and timers based on the selected mode. For the fixed time frame mode, the calculation is based on the difference between old and new counter values over a specified time frame. In the fixed pulse count mode, the speed calculation is triggered by reaching a specific pulse count within a given time period.

Overall, this code structure can be optimized further for efficiency and accuracy. Feel free to suggest any improvements or modifications to enhance its performance.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>17-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>NeverTooLateToLearn</span></li>
            </ul>
        </div>
        
                        </div>
                    <div class="no-replies-message" style="display: none; color: gray;">
        No More Replies.
    </div>
        
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 outer-container">
        <!-- Related Topics -->
    <?php include "./related-topic.php" ?>
    </div>
            </div>
             <!-- cta button -->
        <?php include "./cta.php" ?>

            <!-- FAQ Section -->
            <div class='my-5'><h3 class='faq-title text-primary mb-4'>Frequently Asked Questions (FAQ)</h3>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 1.  Can the speed of the motor generator be accurately measured using a proximity sensor and the Mitsubishi Input Card QX40 set at 1ms response time?</h4>
<p class='text-muted'><strong>Answer:</strong> Answer: The accuracy of measuring the motor generator speed with a proximity sensor and the QX40 input card set at 1ms response time can be influenced by various factors such as the proximity sensor's precision, the motor generator's stability, and the configuration setup. It is recommended to test the setup and calibrate the system to ensure accurate speed measurement.</p>
</div>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 2.  What are the advantages of using the Mitsubishi Input Card QX40 for measuring motor generator speed without a High Speed counter module?</h4>
<p class='text-muted'><strong>Answer:</strong> Answer: The Mitsubishi Input Card QX40 offers flexibility in setting response times (1ms, 5ms, 10ms, or 20ms) which can be beneficial for fine-tuning the speed measurement system. It provides a cost-effective alternative to high-speed counter modules while still offering reliable performance.</p>
</div>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 3.  How does the distance detected by the inductive proximity sensor (5mm) impact the accuracy of speed measurement for the motor generator?</h4>
<p class='text-muted'><strong>Answer:</strong> Answer: The distance detected by the inductive proximity sensor plays a crucial role in the accuracy of speed measurement. A shorter detection distance (5mm) may provide more precise readings, especially when monitoring high-speed rotations. It is essential to consider the sensor's specifications and adjust the setup accordingly for optimal performance.</p>
</div>
</div>
        </div>
        <?php include "./footer-banner.php" ?>

        <!-- /footer -->
        <?php include "../include/footer.php" ?>

        <script src="like-view-counter.js"></script>
    </div>
<script>
document.addEventListener("DOMContentLoaded", () => {
    function initializeToggleFunctionality() {
        const toggleLink = document.querySelector(".toggle-more-replies");
        const moreRepliesContent = document.querySelector(".more-replies-content");
        const noRepliesMessage = document.querySelector(".no-replies-message");

        if (!toggleLink || !moreRepliesContent || !noRepliesMessage) {
            console.error("Required elements not found. Ensure the correct class names are used.");
            console.log({
                toggleLink,
                moreRepliesContent,
                noRepliesMessage,
            });
            return;
        }

        const hasReplies = Array.from(moreRepliesContent.children).some(
            (child) => child.nodeType === Node.ELEMENT_NODE
        );

        if (hasReplies) {
            noRepliesMessage.style.display = "none";
        } else {
            noRepliesMessage.style.display = "block";
            toggleLink.style.display = "none";
            return;
        }

        toggleLink.addEventListener("click", (event) => {
            event.preventDefault();
            const isHidden = getComputedStyle(moreRepliesContent).display === "none";
            moreRepliesContent.style.display = isHidden ? "block" : "none";
            toggleLink.textContent = isHidden ? "Hide More Replies" : "More Replies →";
        });
    }

    initializeToggleFunctionality();

    const observer = new MutationObserver(() => {
        const toggleLink = document.querySelector(".toggle-more-replies");
        const moreRepliesContent = document.querySelector(".more-replies-content");

        if (toggleLink && moreRepliesContent) {
            initializeToggleFunctionality();
            observer.disconnect();
        }
    });

    observer.observe(document.body, { childList: true, subtree: true });
});
</script>
</body>
</html>
