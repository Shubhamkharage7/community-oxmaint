
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Greetings, friends! As a pre-development engineer at Siemens, my work involves a combination of mathematical algorithms and practical tasks. Lately, I have been troubleshooting PLCs with real machines, such as montage stations, which can be quite challenging. There are a few common frustrations I encounter in this process: Firstly,">
    <meta name="keywords" content="siemens plcs, troubleshooting techniques, improved solutions, challenges, mathematical algorithms, montage stations, tia portal trace, debugging, recording functions, db data, sps recorders, iba recorders, automation engineers, enh">
    <meta name="author" content="oxmaint">
    
    <link rel="canonical" href="https://community.oxmaint.com/discussion-forum/improved-troubleshooting-techniques-for-siemens-plcs-solutions-and-challenges">
    <title>Improved Troubleshooting Techniques for Siemens PLCs: Solutions and Challenges | Oxmaint Community</title>
    <link rel="shortcut icon" href="./../assets/img/favicon.png" />
    <link rel="stylesheet" href="./../assets/css/plugins.css" />
    <link rel="stylesheet" href="./../assets/css/style.css" />
    <link rel="stylesheet" href="./../assets/css/colors/purple.css" />
    
    <!-- og or twitter tags -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Improved Troubleshooting Techniques for Siemens PLCs: Solutions and Challenges | Oxmaint Community">
    <meta property="og:description" content="Greetings, friends! As a pre-development engineer at Siemens, my work involves a combination of mathematical algorithms and practical tasks. Lately, I have been troubleshooting PLCs with real machines, such as montage stations, which can be quite challenging. There are a few common frustrations I encounter in this process: Firstly,">
    <meta property="og:url" content="https://community.oxmaint.com/discussion-forum/improved-troubleshooting-techniques-for-siemens-plcs-solutions-and-challenges">
    <meta property="og:site_name" content="Oxmaint">
    <meta property="og:image" content="https://community.oxmaint.com/assets/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Improved Troubleshooting Techniques for Siemens PLCs: Solutions and Challenges | Oxmaint Community">
    <meta name="twitter:description" content="Greetings, friends! As a pre-development engineer at Siemens, my work involves a combination of mathematical algorithms and practical tasks. Lately, I have been troubleshooting PLCs with real machines, such as montage stations, which can be quite challenging. There are a few common frustrations I encounter in this process: Firstly,">
    <meta name="twitter:image" content="https://community.oxmaint.com/assets/img/favicon.png">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y6M0T9NLP4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-Y6M0T9NLP4');
    </script>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://community.oxmaint.com/discussion-forum/improved-troubleshooting-techniques-for-siemens-plcs-solutions-and-challenges"
      },
      "headline": "Improved Troubleshooting Techniques for Siemens PLCs: Solutions and Challenges",
      "description": "Greetings, friends! As a pre-development engineer at Siemens, my work involves a combination of mathematical algorithms and practical tasks. Lately, I have been troubleshooting PLCs with real machines, such as montage stations, which can be quite challenging. There are a few common frustrations I encounter in this process: Firstly,",
      "author": {
        "@type": "Person",
        "name": "Li Yi"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Oxmaint",
        "logo": {
          "@type": "ImageObject",
          "url": "https://community.oxmaint.com/assets/img/favicon.png"
        }
      },
      "datePublished": "2024-08-15",
      "image": "https://community.oxmaint.com/assets/img/favicon.png"
    }
    </script>

<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
<script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" defer></script>
<link rel="stylesheet" href="./../assets/css/home.css"/>
</head>
<body>
    <div class="content-wrapper bg-gray">
        <?php include "../include/header.php" ?>
        <!-- /header -->
        <div class="container my-5">
            

            <div class="bg-primary card p-4 mb-4">
                <h1 class="text-white">Improved Troubleshooting Techniques for Siemens PLCs: Solutions and Challenges</h1>
                <div class="d-flex justify-content-between">
                    <ul class="post-meta text-white fs-15 mb-4">
                        <li class="post-date"><i class="uil uil-calendar-alt"></i><span>15-08-2024</span></li>
                        <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
                        <li class="post-comments"><i class="uil uil-comment-alt-dots"></i><span>25 comments</span></li>
                        <li class="post-seen"><i class="uil uil-eye"></i><span id="counter">1302</span></li>
                        <li class="post-like"><i class="uil uil-thumbs-up" id="likeButton"></i><span id="likeCount">334</span></li>
                    </ul>
                </div>
                <div class="card p-4">
                    <h3>Question:</h3>
                    <p>Greetings, friends! As a pre-development engineer at Siemens, my work involves a combination of mathematical algorithms and practical tasks. Lately, I have been troubleshooting PLCs with real machines, such as montage stations, which can be quite challenging. There are a few common frustrations I encounter in this process: Firstly, having to manually click through multiple buttons to repeat a test can be time-consuming. Secondly, encountering unpredictable failures that are hard to recreate can be frustrating. Despite having tools like TIA Portal Trace, the support for signals and data length can be limited. Even with recording functions, debugging can still be a challenge. To address these issues, I have developed a functional code to save DB data in each PLC cycle. While solutions like SPS or IBA recorders exist, they may not be comprehensive or cost-effective. I believe many automation engineers share similar experiences. As I work on enhancing future Siemens products, I would love to hear your stories and suggestions. Thank you for your input.</p>
                </div>
            </div>

            <div class="row custom-row">
                <div class="col-lg-9 mx-auto mb-5">
                    <div>
                        <div class="p-4">
                            <h3 class="text-primary">Top Replies</h3>
                            
        <div class="bg-white p-3 rounded mb-3">
            <p>Are you wondering about the functions you should use in your program? One thing to be aware of is that MOVE blocks may have ENO enabled by default, allowing the program to continue processing during the move. Additionally, using a 10ms timer may cause a 1-2 scan cycle delay if execution is not optimal. It's important to differentiate between SR and RS usage, as selecting the wrong one could yield the opposite result desired. Make sure to consider these factors when programming.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>16-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Puddle</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>It is essential to incorporate alarms in the PLC system to detect potential hardware errors. In the case of functional errors, such as program bugs, there are methods to identify and address them. One way is to monitor the PLC online during operation by examining the code directly or using watch tables. Another effective approach is to observe the simulated PLC code using tools like Trace. If there are unexpected error situations and continuous online monitoring is not possible, Trace can provide valuable information for troubleshooting. This data can be used to recreate scenarios through simulation. Prior to commissioning, conducting extensive PLC simulations can help debug the program significantly, potentially resolving up to 95% of issues before initiating machine operations. Overall, implementing these strategies can optimize the performance and reliability of the PLC system.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>16-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>JesperMP</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>JesperMP emphasized the importance of having alarms integrated into the PLC system to detect any potential hardware errors. In the event of functional errors in the code, it is essential to troubleshoot by observing the PLC online during operation or using simulated PLC code. Trace can be a valuable tool for identifying and resolving spurious error situations when offline monitoring is not possible. Prior to commissioning, thorough PLC simulation can help debug the program significantly, ensuring smoother machine startup.

In response to Jesper's feedback on Siemens products, it is acknowledged that errors may arise from "corner cases" or unforeseen user operations. Monitoring online may not always be feasible, especially with competing tasks and meetings. To address this, a more advanced version of Trace is proposed to monitor all tag values and invoked subroutines at the end of each PLC cycle for extended periods. This detailed record could then be utilized in TIA Portal PLCSIM for effective troubleshooting and bug fixing, although approval from superiors may be necessary for implementation.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>17-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Puddle inquired about the functions being used and the intention behind them. One common issue I encountered early on was the default setting of ENO in MOVE blocks, causing the program to continue running during the move process. Additionally, a 10ms timer may result in a delay of 1-2 scan cycles if execution is not optimal. It is important to differentiate between SR and RS usage as selecting the wrong one could yield the undesired outcome. Hi, Puddle, I agree with your observation. This approach may be functional but may not be sufficient to address all issues effectively.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>17-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>In the past, before the advent of trace technology, software developers often resorted to setting "traps" to detect rare events. This method proved crucial in identifying a profibus data consistency error and confirming its resolution.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>18-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Manglemender</span></li>
            </ul>
        </div>
        
                        </div>
                        <div class="p-4">
    <h3 class="text-primary">
        <a href="#" class="toggle-more-replies" style="text-decoration: underline; color: #1a73e8; cursor: pointer;">More Replies →</a>
    </h3>
    <div class="more-replies-content" style="display: none;">
                            
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi mentioned that when needing to repeat a test, they have to manually click several buttons in sequence. They opt not to code a program because they need to observe data step by step, or coding the test program takes longer than manual operation. In such cases, using a unit test product like Siemens' Professional PLCSIM can be beneficial. This tool allows users to write the sequence of events and specify the processor to advance by cycle or time. However, Li Yi also pointed out that the professional PLCSim might not offer control over timing. The ability to generate conditional step sequences is available but lacks timing control.

Additionally, Li Yi highlighted the challenge of recreating strange failures and the importance of collaboration in programming. They emphasized the significance of two individuals working together, with one writing the testing procedures and the other writing the program. This approach ensures that both parties align when it's time to run the software.

Regarding limited support for signals/tags and data length in TIA Portal Trace, Li Yi suggested using ServiceLab or setting traps for better functionality. They also recommended utilizing instructions that write to the event log of the processor for more advanced debugging.

In conclusion, Li Yi expressed a desire to gather insights and suggestions to enhance future Siemens products. They emphasized the importance of familiarizing oneself with all available products from Siemens before diving into development.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>19-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>cardosocea</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Before the advent of trace functionality, it was standard practice to capture rare events in software by setting up "traps". This method was crucial in diagnosing a profibus data consistency error that occurred infrequently. Understanding the intricacies of the system and process was key to identifying and resolving the issue. Kudos to Manglemender for mastering this challenging task!</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>AlfredoQuintero</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi expressed his plan to develop an enhanced version of Trace that can continuously monitor the values of all tags at the end of each PLC cycle and track the subroutines invoked. The goal is to store the record file in TIA Portal PLCSIM for troubleshooting and debugging purposes. However, approval from his boss is necessary for the implementation of this idea.

The proposed system would essentially capture a snapshot of every tag and DB value per cycle, saving the data on the PLC until it is downloaded, similar to data logs. For example, a 1211 CPU is currently utilized to gather data from multiple temperature controllers within a network. With an average cycle time of 10ms and over 500 tags being used, assuming they are all UINT, approximately 2B would be stored directly or 4-5B as CSV. This program would require 6MB of storage per minute to operate effectively.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Puddle</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>It was mentioned by Puddle that the program requires 6MB of storage per minute, which is why the manager decided not to proceed with it. With the advancement of computing, the fundamental principle of managing memory as a limited resource has been disregarded. This is due to the ability to easily obtain more memory or a larger hard drive. You may have observed web browsers and communication platforms exhibiting this behavior.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>cardosocea</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi suggested that errors are often caused by "corner cases" or "unforeseen user operations." To address this, it is crucial to interview operators about the error scenario and instruct them to capture photos or videos of the machine and HMI immediately following the error occurrence. By gathering this information, one can simulate and recreate the scenario to identify and resolve the issue. It is also recommended to explore various types of user errors during this process. Additionally, operators should be asked if they can replicate the error scenario for further investigation. Another helpful practice is to log all user inputs on the HMI, which can provide valuable data without the need to log every machine IO with milliseconds resolution.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>JesperMP</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>AlfredoQuintero praised Manglemender for their impressive accomplishment, which required deep insight and understanding of data consistency in the system. Data consistency can be challenging to maintain, especially when communicating with a DP slave. It is crucial to close the data consistency window by reading/writing to the last byte defined in the communication structure.

I have been working with profibus since its inception during the S5 era, and data consistency issues have only occurred twice. The first instance necessitated Siemens' support to resolve an intermittent problem with an analog input. The second occurrence involved sending data to a Bosch Rexroth Motion controller, where a discrepancy between the GSD-defined 10 bytes and the engineer's recommendation of 9 bytes caused occasional duplication of parts.

After conducting thorough analysis and comparing sent data with received data, the root cause was identified as sending 10 bytes instead of 9. This discovery finally resolved the issue that had been causing occasional part duplication.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Manglemender</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Manglemender highlighted the importance of data consistency, emphasizing that failing to properly close the data consistency window can lead to unexpected issues. I faced challenges with data consistency in the past, experiencing odd glitches in values. After consulting the manual, I discovered the significance of using the read consistent data function to ensure data integrity. It's crucial to properly manage data consistency when communicating with a DP slave to avoid errors.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>cardosocea</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Cardosocea inquired out of curiosity as to why it is necessary to learn about all Siemens products and their functionalities. Despite being a Siemens employee, it can be challenging to be familiar with every Siemens and partner's products. Seeking help from senior expert colleagues has provided some solutions, although not all problems have been resolved accurately. Debugging with Trace requires all input signals, which I do not have, making it difficult to simulate the process. Additionally, there is no automatic method found to populate the measured value in the IO forcing table.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Puddle inquired about the feasibility of creating a snapshot of every tag and DB value per cycle to be stored on the PLC until downloaded, similar to data logs. With a 1211 CPU tasked with collecting data from numerous temperature controllers, each cycle averaging 10ms and utilizing over 500 UINT tags, roughly 2B stored directly or 4-5B as CSV. This would result in 6MB of storage per minute, which is not efficient.

The idea proposed by cardosocea was not being pursued due to the need for manual operations and potential stops or pauses. The evolution of computing has shifted focus away from managing memory effectively, as seen in browsers and Teams constantly using up memory.

To optimize data storage, only changed values would be saved with a "cycle stamp" in binary form rather than CSV or txt format, reducing the amount of data. This method would require 1MB/s for 1024 4-byte signals sampled at 1024Hz, assuming only 1/4 signals change. While still too large, advancements like PC-based PLCs are gaining market share. Companies like Beckhoff and Keyence offer PLCs with fast cycles and playback functions, catering to experienced automation engineers. Collaboration with seasoned engineers is essential to test and refine these ideas.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>JesperMP suggested verifying with the operators to see if they can replicate the error scenario. Additionally, consider logging all user inputs on the HMI, which may be more efficient than logging all machine IO with millisecond resolution. However, despite these efforts, the error scenario could not be reproduced.

Manglemender highlighted the importance of data consistency when communicating with a DP slave. It is crucial to close the data consistency window by accessing the last byte defined in the communication structure. This is why keeping detailed records for an extended period is essential. By importing input values into the program for simulation, it becomes easier to monitor and analyze the data.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi mentioned that one of the reasons why he wants to extensively document everything is to analyze the data over a long period of time. He prefers to import the input values into a program for simulation rather than observing them manually. However, it is important to consider whether to record the process image or the actual peripheral state, as they may not be the same at any given moment. Signal propagation delays in hardware, timing of mechanical components, and the selection of input with slow conversion time in PID loops are factors to take into account. The complexity of processing power and data involved may make this proposal seem impractical without a separate hardware piece connected via the backplane bus.

Furthermore, implementing such a system could dynamically affect the performance of any connected system and potentially mask certain issues. Local data poses its own challenges as dynamically allocated memory contents may not be reliable, leading to problems if a value is used without prior assignment. Changes in the order of execution can result in different values allocated to local data within a function, causing issues that may not have been apparent before. It is crucial to carefully navigate these potential pitfalls when considering a comprehensive data recording system.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Manglemender</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi mentioned a method to reduce the amount of data by saving only the changed values with a "cycle stamp," rather than all data varying within two cycles. While saving all digital I/O with a timestamp is feasible, cyclic saving may suffice for Analog I/O without requiring high resolution. This task is achievable and could potentially be facilitated by existing commercial products, such as the one designed for S7-300/400 systems. However, the challenge lies in managing the program internal DB memory, as data can change multiple times within a single cycle. It may not be practical to reload the logged data into the PLC for simulation purposes. Instead, analysis of the logged data based on programming knowledge is necessary. In a similar incident, a PLC debugging process involved interpretation of a video showing I/O LEDs on the main PLC rack of a small machine. (*The commercial product referenced utilized additional blocks in the PLC program.)</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>JesperMP</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>JesperMP shared a fascinating story about debugging a PLC by using a video of the I/O LEDs on the main PLC rack of a small machine. This method, although requiring some effort, proved to be effective. When working with older machines, this unconventional approach can be a valuable tool. It may take some time to get the old laptop up and running, but the end results are worth the effort.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Puddle</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>In discussing the recording process, Manglemender raised a valid point about capturing the actual peripheral state versus the processed image. Signal propagation delays in hardware can also impact the data. However, the main goal remains obtaining a timeseries data file documenting PLC initial values and incoming values. While signal propagation speed complexities are acknowledged, the focus is on logic operations rather than intricate process control, with a varying number of I/Os involved. 

Regarding the challenge of saving data within the PLC's internal DB memory, JesperMP highlighted the difficulty of capturing every change reliably due to potential data fluctuations within a single cycle. While it may seem unachievable to load logged data back into the PLC for simulation purposes, a solution involving a high-performance CPU and specialized runtime programming could potentially address this issue. This approach would involve inserting additional instructions during program compilation and possibly utilizing spare capacity within the PLC.

In considering potential solutions, rewriting the PLC program in visual studio and utilizing SPS or IBA recorder data may offer a viable path forward. Despite the organizational challenges involved in this approach, the possibility of recording every variable change exists with the right tools and programming expertise. Ultimately, the focus is on finding a practical solution to effectively capture and analyze data, even if it involves unconventional methods. Appreciation is expressed for the valuable insights and suggestions provided in the discussion.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>What are the common issues occurring in the testing process? To revisit the initial post, in order to run a test again, a series of buttons must be clicked manually. Developing a program is not feasible due to the need to monitor data in real-time, making manual operation more efficient. It is important to understand that testing a machine, identifying errors, and making adjustments takes more time than writing PLC code.

Strange failures may occur, with difficulty in reproducing them. By logging alarms, state machines states and transitions, essential process values, operator inputs, and operator statements, it is possible to identify and address any errors that may arise. Despite having the TIA Portal Trace function, limitations exist in the supported signals/tags and data length, making debugging challenging.

Utilizing various methods and tools available, such as trace functions and debugging techniques, along with implementing robust programming methods, can help in troubleshooting machine errors effectively. While the option to rewrite the PLC program in Visual Studio may be considered, it is essential to acknowledge the fundamental differences between PC programming and PLC programming. Ultimately, confidence in programming languages should dictate the approach taken to address any issues that arise.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>JesperMP</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi explained that when it comes to debugging, not having every input signal can make it challenging to simulate the process effectively. Analyzing every signal can lead to data overload and can be done in steps, especially when dealing with PLCs and complex issues. Sometimes it takes time to find the root cause of a problem, and even then, not all bugs can be fixed, especially in machines that are focused on profitability rather than being tested extensively.

As a Siemens employee, Li Yi admitted that it can be difficult to be fully knowledgeable about every Siemens and partner product. It's common not to know everything, especially considering the wide range of products related to electricity that Siemens offers.

Li Yi also mentioned that reducing the amount of data collected can be beneficial. Not all data changes within two cycles, so only saving changed values with a "cycle stamp" can help manage data more efficiently. However, adding too much logic and cycle time to store this data can sometimes create more problems rather than solving them.

When it comes to PC-based PLCs, Li Yi expressed some skepticism based on their licensing, reliance on Windows, and overall complexity compared to traditional "plug and play" PLCs. Despite being in the industry for 20 years, PC-based PLCs have not gained much traction in Li Yi's opinion.

In conclusion, Li Yi highlighted the importance of logging the state of certain databases when errors occur. This can help troubleshoot the issue effectively, especially if the operator's actions change the machine's state before a technician arrives. Having the ability to access these states quickly can be invaluable in resolving problems efficiently.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>cardosocea</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>JesperMP brought up the question of troubleshooting issues, comparing it to the complexities of working with PLCs. He highlighted the importance of testbenches in automatic signal measurement and IT programming, emphasizing the significance of the PLC program in system operation. Errors in PLCs can often stem from program logic, requiring a systematic approach to debugging. Additionally, the challenges of data overload and the need for step-by-step analysis were discussed, showcasing the difficulties in diagnosing issues in PLCs. The conversation also touched on the limitations of simulating real-world data in TIA Portal PLCSIM and the frustrations of troubleshooting machines under heavy production duty. The insights shared by cardosocea, an automation veteran, were appreciated for their valuable perspective on PC-Based PLCs.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>I understand that the machine has a short cycle time and sometimes encounters error situations. To resolve these errors, it is important to identify the root cause. In addition to the basic debugging techniques previously mentioned, consider implementing cyclic I/O logging in the PLC program. This logging can be set to stop when an error occurs, either by manual input from the operator or by detecting the error situation within the code. You can use the same code to reset the sequence as you described earlier, ensuring that the machine continues to function while capturing error information. Furthermore, a notification can be sent to a central SCADA system alerting the programmer to investigate the error promptly.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>JesperMP</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>Li Yi discussed his experience working with testbenches, programming test procedures, and measuring signals, as well as pure IT programming. Testbenches are automated systems that can measure hundreds of signals at speeds faster than 1024 Hz. In IT programming, there are "automatic testing tools" available to test software, particularly application software, automatically. Li Yi envisions testing machines, such as assembly stations, as a process that involves initiating procedures before 5 PM, leaving the computer on overnight, and checking the report the next morning. This concept can be likened to a DAC-style PLC.

Regarding PLC error logs, Siemens offers various tools, but errors could potentially stem from issues in the program logic or unintended signals from devices like proximity switches. Li Yi emphasizes the importance of the PLC program, as it serves as the core of the system. With expertise in using Visual Studio and VB/C# to automatically feed timeseries sensor data, Li Yi is capable of writing control logics, including adaptive, model predictive, and fuzzy controls.

In a situation constrained by business-related limitations, Li Yi hints at a high-production machine that automatically resets and continues operation upon encountering errors, leading to frustrating scenarios. To address this, capturing the state of critical databases at the time of failure could prove beneficial. Additionally, Li Yi suggests exploring logging devices from NI instruments that can capture data at high rates from S7-319 systems.

Your insights on PC-Based PLCs are highly valued, as indicated by Li Yi, who plans to discuss them internally. It's essential to remember that opinions shared are subjective and not necessarily backed by concrete documentation. As an experienced professional in automation nearing retirement, Li Yi acknowledges the challenges posed by resistance to adopting better systems and standards in industrial automation. The goal is to avoid becoming stagnant and to embrace positive changes in the field. Good luck navigating these challenges.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>cardosocea</span></li>
            </ul>
        </div>
        
        <div class="bg-white p-3 rounded mb-3">
            <p>I am truly grateful for the abundance of valuable suggestions provided. As part of my role, I strive not only to resolve issues but also to proactively prevent and enhance processes. Through interacting with seasoned automation engineers, I have gained insights into effective problem-solving methods and ways to optimize our existing portfolio. This learning experience has been invaluable, particularly in navigating uncommon failures and moving ahead. For now, I will wrap up this discussion but I plan to stay engaged with this forum, regularly sharing insights and exchanging viewpoints in the future.</p>
            <ul class="post-meta mb-0">
                <li class="post-date"><i class="uil uil-calendar-alt"></i><span>20-08-2024</span></li>
                <li class="post-author"><i class="uil uil-user"></i><span>Li Yi</span></li>
            </ul>
        </div>
        
                        </div>
                    <div class="no-replies-message" style="display: none; color: gray;">
        No More Replies.
    </div>
        
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 outer-container">
        <!-- Related Topics -->
    <?php include "./related-topic.php" ?>
    </div>
            </div>
             <!-- cta button -->
        <?php include "./cta.php" ?>

            <!-- FAQ Section -->
            <div class='my-5'><h3 class='faq-title text-primary mb-4'>Frequently Asked Questions (FAQ)</h3>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 1.  What are some common frustrations faced when troubleshooting Siemens PLCs with real machines?</h4>
<p class='text-muted'><strong>Answer:</strong> Some common frustrations include the time-consuming nature of manually clicking through multiple buttons to repeat tests and encountering unpredictable failures that are hard to recreate.</p>
</div>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 2.  What limitations are often encountered when using tools like TIA Portal Trace for troubleshooting PLCs?</h4>
<p class='text-muted'><strong>Answer:</strong> The support for signals and data length can be limited, and despite having recording functions, debugging can still poses challenges.</p>
</div>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 3.  How can the challenges of troubleshooting Siemens PLCs be addressed?</h4>
<p class='text-muted'><strong>Answer:</strong> One approach is to develop functional code to save DB data in each PLC cycle. Additionally, exploring solutions like SPS or IBA recorders, while considering their comprehensiveness and cost-effectiveness, can be beneficial.</p>
</div>
<div class='faq-item bg-light p-4 rounded shadow-sm mb-3'>
<h4 class='text-dark'>FAQ: 4.  How can automation engineers contribute to enhancing future Siemens products?</h4>
<p class='text-muted'><strong>Answer:</strong> Automation engineers can share their experiences, stories, and suggestions with Siemens to help improve troubleshooting techniques and develop more efficient and effective products.</p>
</div>
</div>
        </div>
        <?php include "./footer-banner.php" ?>

        <!-- /footer -->
        <?php include "../include/footer.php" ?>

        <script src="like-view-counter.js"></script>
    </div>
<script>
document.addEventListener("DOMContentLoaded", () => {
    function initializeToggleFunctionality() {
        const toggleLink = document.querySelector(".toggle-more-replies");
        const moreRepliesContent = document.querySelector(".more-replies-content");
        const noRepliesMessage = document.querySelector(".no-replies-message");

        if (!toggleLink || !moreRepliesContent || !noRepliesMessage) {
            console.error("Required elements not found. Ensure the correct class names are used.");
            console.log({
                toggleLink,
                moreRepliesContent,
                noRepliesMessage,
            });
            return;
        }

        const hasReplies = Array.from(moreRepliesContent.children).some(
            (child) => child.nodeType === Node.ELEMENT_NODE
        );

        if (hasReplies) {
            noRepliesMessage.style.display = "none";
        } else {
            noRepliesMessage.style.display = "block";
            toggleLink.style.display = "none";
            return;
        }

        toggleLink.addEventListener("click", (event) => {
            event.preventDefault();
            const isHidden = getComputedStyle(moreRepliesContent).display === "none";
            moreRepliesContent.style.display = isHidden ? "block" : "none";
            toggleLink.textContent = isHidden ? "Hide More Replies" : "More Replies →";
        });
    }

    initializeToggleFunctionality();

    const observer = new MutationObserver(() => {
        const toggleLink = document.querySelector(".toggle-more-replies");
        const moreRepliesContent = document.querySelector(".more-replies-content");

        if (toggleLink && moreRepliesContent) {
            initializeToggleFunctionality();
            observer.disconnect();
        }
    });

    observer.observe(document.body, { childList: true, subtree: true });
});
</script>
</body>
</html>
